time:
  start: "2024-01-01 00:00"
  steps: 6
  dt_min: 15

admm:
  rho: 1.0
  max_iters: 100
  tol_primal: 1.0e-6
  tol_dual: 1.0e-6

solvers:
  tso: ipopt
  dso: ipopt

tso:
  # Simple 3-bus Laplacian admittance (chain) used in tests
  admittance:
    - [ 1.0, -1.0,  0.0]
    - [-1.0,  2.0, -1.0]
    - [ 0.0, -1.0,  1.0]
  injections: [-40.0, 10.0, 30.0]
  boundary: [2]
  cost_coeff: 10.0

dsos:
  - sens:
      Rp: [[0.01, 0.0], [0.0, 0.01]]
      Rq: [[0.0, 0.0], [0.0, 0.0]]
      vm_base: [1.0, 1.0]
    profiles:
      # 如果已生成 data/profiles.csv，可以直接指定 csv 路径
      csv: data/profiles.csv
    vmin: 0.95
    vmax: 1.05
    penalty_voltage: 1000.0
    cost_coeff: 50.0

envelope:
  margin: 0.05
  alpha: 0.3

run:
  base: runs
  tag: demo

# TSO-DSO 接口映射：将 TSO boundary 中每个母线映射到 (dso_index, dso_bus_index)
# 这里 boundary 为 [2]，我们映射到 DSO 0 的 bus 0（对应 DSO 模型中的第 0 个总线）
mapping:
  "2": [0, 0]
